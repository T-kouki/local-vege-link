@startuml

actor 購入者
boundary 未ログインメニュー画面
boundary ログイン画面
control ログイン処理
entity ユーザーDB
boundary ログイン済みメニュー画面

activate 購入者
購入者 -> 未ログインメニュー画面:1:ログインまたは新規登録ボタンを押下する
activate 未ログインメニュー画面
未ログインメニュー画面 -> ログイン画面:1.1:表示()
deactivate 未ログインメニュー画面
activate ログイン画面
購入者 -> ログイン画面:2:メールアドレスとパスワードを入力
ログイン画面 -> ログイン処理:1.2:ログイン()
activate ログイン処理
ログイン処理 -> ユーザーDB:1.3:ユーザー情報を取得()
activate ユーザーDB
ユーザーDB --> ログイン処理:
deactivate ユーザーDB
alt 正常時
    ログイン処理 -> ログイン済みメニュー画面:2.1:表示()
    activate ログイン済みメニュー画面
else メールアドレスまたはパスワードが誤りだった場合
    ログイン処理 -> ログイン画面:2.1.1:「メールアドレスまたはパスワードが間違っています」表示()
end
@enduml